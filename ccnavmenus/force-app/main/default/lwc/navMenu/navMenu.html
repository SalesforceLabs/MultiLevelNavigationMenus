<template>
    <div role="ccnavMenuCSS" class={navMenuClassNames}>
        <template if:false={hamburgerMenu}>
            <nav role="navigation">
                <template if:true={isVertical}>
                    <c-tree 
                        items={items} 
                        selected-item={url} 
                        selected-contains="true" 
                        is-vertical={isVertical} 
                        uuid={uuid} 
                        url-sub-map-json={urlSubMapJson} 
                        class="vertical-menu"
                        menu-aria-announcement={menuAriaAnnouncement}

                        brand-navigation-color-text={brandNavigationColorText}
                        brand-navigation-bar-background-color={brandNavigationBarBackgroundColor}
                        brand-navigation-background-color={brandNavigationBackgroundColor}
                        font-family={fontFamily}
                        text-transform={textTransform}
                        top-level-item-spacing={topLevelItemSpacing}
                    ></c-tree>
                </template>

                <template if:false={isVertical}>
                    <c-tree 
                        items={items} 
                        selected-item={url} 
                        selected-contains="true" 
                        class="horizontal-menu" 
                        is-vertical={isVertical} 
                        uuid={uuid} 
                        url-sub-map-json={urlSubMapJson}
                        menu-aria-announcement={menuAriaAnnouncement}

                        brand-navigation-color-text={brandNavigationColorText}
                        brand-navigation-bar-background-color={brandNavigationBarBackgroundColor}
                        brand-navigation-background-color={brandNavigationBackgroundColor}
                        font-family={fontFamily}
                        text-transform={textTransform}
                        top-level-item-spacing={topLevelItemSpacing}
                    ></c-tree>
                </template>
            </nav>
        </template>

        <template if:true={hamburgerMenu}>

                <button data-id="toggleHamburgerMenu" 
                    class="slds-button slds-button_icon slds-button_icon-inverse ccnavmenu-hamburger-button slds-p-horizontal_x-small" 
                    title="Toggle Menu" 
                    aria-expanded={hamburgerMenuVisible}
                    onclick={toggleHamburgerMenu}>
                        <div aria-hidden="true" tabindex="-1" class="ccnavmenu-hamburger-icon ccnavmenu-hamburger-icon-toggle">&#9776;</div>
                        <span class="slds-assistive-text">Toggle Menu</span>
                </button>

            <template if:true={hamburgerMenuVisible}>
                <div class="hamburgerMenuContainer">
                    
                    <button 
                        class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse slds-p-horizontal_x-small ccnavmenu-hamburger-button ccnavmenu-hamburger-button-close" 
                        title="Close" 
                        onclick={toggleHamburgerMenu}>
                        <div aria-hidden="true" tabindex="-1" class="ccnavmenu-hamburger-icon ccnavmenu-hamburger-icon-close">&times;</div>
                        <span class="slds-assistive-text">Close</span>
                    </button>

                    <nav role="navigation">
                        <c-tree 
                            items={items} 
                            selected-item={url} 
                            selected-contains="true" 
                            class="vertical-menu" 
                            is-vertical="true" 
                            uuid={uuid} 
                            url-sub-map-json={urlSubMapJson}
                            hamburger-menu={hamburgerMenu}
                            menu-aria-announcement={menuAriaAnnouncement}

                            brand-navigation-color-text={brandNavigationColorText}
                            brand-navigation-bar-background-color={brandNavigationBarBackgroundColor}
                            brand-navigation-background-color={brandNavigationBackgroundColor}
                            font-family={fontFamily}
                            text-transform={textTransform}
                            top-level-item-spacing={topLevelItemSpacing}

                            onclosehamburgermenu={closeHamburgerMenu}
                        ></c-tree>
                    </nav>
                </div>
            </template>
        </template>
    </div>
    
</template>